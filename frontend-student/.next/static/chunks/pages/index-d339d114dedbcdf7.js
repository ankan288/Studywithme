(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3454:function(e,t,s){"use strict";var a,n;e.exports=(null==(a=s.g.process)?void 0:a.env)&&"object"==typeof(null==(n=s.g.process)?void 0:n.env)?s.g.process:s(7663)},8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(5730)}])},9200:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(3759).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},8979:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(3759).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},2278:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(3759).Z)("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},5730:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return P}});var a,n,i,r,l=s(5893),o=s(7294),c=s(3765),d=s(2591),u=s(3058),m=s(2278),x=s(2089),h=s(8979),p=s(3759);let g=(0,p.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),f=(0,p.Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);(a=i||(i={})).Core="Core",a.Applied="Applied",a.Mastery="Mastery",(n=r||(r={})).Learning="Learning",n.Assignment="Assignment";let b=s(3454).env.NEXT_PUBLIC_API_URL||"http://localhost:3000",y={chat:{sendMessage:async(e,t,s)=>{let a=await fetch("".concat(b,"/api/chat/message"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,depth:t,mode:s})}),n=await a.json();return n.data||n},initialize:async e=>(await fetch("".concat(b,"/api/chat/initialize"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:e})})).json()},assignment:{generate:async(e,t)=>(await fetch("".concat(b,"/api/assignments/generate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:e,depth:t})})).json(),evaluate:async(e,t)=>(await fetch("".concat(b,"/api/assignments/evaluate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({assignment:e,answer:t})})).json()}},j=()=>{let[e,t]=(0,o.useState)(!1);return{sendMessage:async(e,s,a)=>{t(!0);try{let n=await y.chat.sendMessage(e,s,a);return t(!1),n}catch(e){return t(!1),{text:"Error sending message",ethicsFlag:!1,error:"Network error"}}},loading:e}},w=(0,p.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),v=(0,p.Z)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);var N=s(9200),k=s(8885);let D=e=>{var t;let{message:s}=e,a="user"===s.role,[n,i]=(0,o.useState)("");return(0,o.useEffect)(()=>{i(new Date(s.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))},[s.timestamp]),(0,l.jsx)("div",{className:"flex w-full mb-6 ".concat(a?"justify-end":"justify-start"),children:(0,l.jsxs)("div",{className:"flex max-w-[80%] ".concat(a?"flex-row-reverse":"flex-row"," items-start gap-3"),children:[(0,l.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ".concat(a?"bg-indigo-600 text-white":"bg-emerald-600 text-white"),children:a?(0,l.jsx)(w,{size:16}):(0,l.jsx)(v,{size:16})}),(0,l.jsxs)("div",{className:"flex flex-col ".concat(a?"items-end":"items-start"),children:[(0,l.jsx)("div",{className:"px-5 py-3 rounded-2xl shadow-sm text-sm leading-relaxed ".concat(a?"bg-indigo-600 text-white rounded-tr-none":"bg-white text-slate-700 border border-slate-200 rounded-tl-none"),children:"assistant"===s.role?(0,l.jsx)("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:(0,l.jsx)(k.UG,{children:s.content})}):s.content}),(0,l.jsxs)("div",{className:"mt-1 text-xs text-slate-400 flex items-center gap-2",children:[n&&(0,l.jsx)("span",{children:n}),(null===(t=s.metadata)||void 0===t?void 0:t.mode)==="Assignment"&&!a&&(0,l.jsxs)("span",{className:"flex items-center text-amber-500 gap-1",children:[(0,l.jsx)(N.Z,{size:10})," Assignment Mode"]})]})]})]})})},S=(0,p.Z)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),C=(0,p.Z)("BrainCircuit",[["path",{d:"M12 4.5a2.5 2.5 0 0 0-4.96-.46 2.5 2.5 0 0 0-1.98 3 2.5 2.5 0 0 0-1.32 4.24 3 3 0 0 0 .34 5.58 2.5 2.5 0 0 0 2.96 3.08 2.5 2.5 0 0 0 4.91.05L12 20V4.5Z",key:"ixwj2a"}],["path",{d:"M16 8V5c0-1.1.9-2 2-2",key:"13dx7u"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M20.5 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1s25gz"}],["path",{d:"M16.5 13a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"127460"}],["path",{d:"M20.5 21a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"fys062"}],["path",{d:"M18.5 3a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1vib61"}]]),T=e=>{let{currentDepth:t,onChange:s,disabled:a}=e,n=[{value:i.Core,label:"Core",icon:S,desc:"Essentials"},{value:i.Applied,label:"Applied",icon:x.Z,desc:"Practice"},{value:i.Mastery,label:"Mastery",icon:C,desc:"Deep Dive"}];return(0,l.jsx)("div",{className:"bg-white p-1 rounded-xl border border-slate-200 shadow-sm flex gap-1",children:n.map(e=>{let n=e.icon,i=t===e.value;return(0,l.jsxs)("button",{onClick:()=>s(e.value),disabled:a,className:"flex-1 flex flex-col items-center justify-center py-2 px-1 rounded-lg transition-all duration-200 ".concat(i?"bg-emerald-50 text-emerald-700 ring-1 ring-emerald-500 shadow-sm":"text-slate-500 hover:bg-slate-50"," ").concat(a?"opacity-50 cursor-not-allowed":""),children:[(0,l.jsx)(n,{size:18,className:"mb-1",strokeWidth:i?2.5:2}),(0,l.jsx)("span",{className:"text-xs font-semibold",children:e.label}),(0,l.jsx)("span",{className:"text-[10px] opacity-70",children:e.desc})]},e.value)})})},M=(0,p.Z)("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),z=e=>{let{currentMode:t,onChange:s,disabled:a}=e;return(0,l.jsxs)("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[(0,l.jsxs)("button",{onClick:()=>s(r.Learning),disabled:a,className:"flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-md text-sm font-medium transition-all ".concat(t===r.Learning?"bg-white text-indigo-700 shadow-sm":"text-slate-500 hover:text-slate-700"),children:[(0,l.jsx)(d.Z,{size:16}),"Learning"]}),(0,l.jsxs)("button",{onClick:()=>s(r.Assignment),disabled:a,className:"flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-md text-sm font-medium transition-all ".concat(t===r.Assignment?"bg-white text-amber-600 shadow-sm":"text-slate-500 hover:text-slate-700"),children:[(0,l.jsx)(M,{size:16}),"Assignment"]})]})};var A=s(641);let Z=(0,p.Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),L=(0,p.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),E=e=>{let{depth:t,onClose:s}=e,[a,n]=(0,o.useState)(""),[i,r]=(0,o.useState)(null),[d,m]=(0,o.useState)(!1),[x,h]=(0,o.useState)(""),[p,g]=(0,o.useState)(null),f=async()=>{if(!a.trim())return;m(!0),g(null),h("");let e=await y.assignment.generate(a,t);e.success&&e.data&&r(e.data),m(!1)},b=async()=>{if(!i||!x.trim())return;m(!0);let e=await y.assignment.evaluate(i,x);e.success&&e.data&&g(e.data),m(!1)};return(0,l.jsxs)("div",{className:"h-full flex flex-col bg-slate-50 border-l border-slate-200 w-96 p-6 overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsxs)("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[(0,l.jsx)(u.Z,{className:"text-amber-500",size:20}),"Auto-Practice"]}),(0,l.jsx)("button",{onClick:s,className:"text-slate-400 hover:text-slate-600",children:"Close"})]}),i?(0,l.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,l.jsxs)("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm",children:[(0,l.jsx)("span",{className:"inline-block px-2 py-1 bg-emerald-100 text-emerald-700 text-xs font-bold rounded-md mb-2",children:i.difficulty}),(0,l.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-1",children:i.title}),(0,l.jsx)("p",{className:"text-sm text-slate-500 mb-4",children:i.objective}),(0,l.jsx)("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200 mb-4",children:(0,l.jsxs)("p",{className:"font-medium text-slate-800",children:["Q: ",i.questions[0]]})}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"text-xs font-semibold uppercase text-slate-500 tracking-wider",children:"Your Answer"}),(0,l.jsx)("textarea",{className:"w-full h-32 p-3 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none resize-none",placeholder:"Type your reasoning here...",value:x,onChange:e=>h(e.target.value)})]})]}),p?(0,l.jsxs)("div",{className:"bg-white p-5 rounded-xl border border-indigo-100 shadow-md ring-1 ring-indigo-50",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h4",{className:"font-bold text-slate-800",children:"Evaluation"}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("span",{className:"text-2xl font-bold text-indigo-600",children:p.conceptualScore}),(0,l.jsx)("span",{className:"text-sm text-slate-400",children:"/100"})]})]}),(0,l.jsx)("p",{className:"text-sm text-slate-700 mb-4 leading-relaxed",children:p.feedback}),p.misconceptions.length>0&&(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsxs)("h5",{className:"text-xs font-bold text-red-500 uppercase tracking-wide mb-2 flex items-center gap-1",children:[(0,l.jsx)(c.Z,{size:12})," Key Misconceptions"]}),(0,l.jsx)("ul",{className:"list-disc list-inside text-sm text-slate-600 space-y-1",children:p.misconceptions.map((e,t)=>(0,l.jsx)("li",{children:e},t))})]}),(0,l.jsxs)("div",{className:"bg-emerald-50 p-3 rounded-lg flex items-start gap-3",children:[(0,l.jsx)(Z,{className:"text-emerald-600 shrink-0 mt-0.5",size:16}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{className:"text-xs font-bold text-emerald-700 uppercase mb-1",children:"Next Steps"}),(0,l.jsx)("p",{className:"text-sm text-emerald-900",children:p.nextSteps})]})]}),(0,l.jsxs)("button",{onClick:()=>{r(null),g(null),n("")},className:"w-full mt-4 py-2 text-sm font-medium text-slate-500 hover:text-slate-800 flex items-center justify-center gap-1",children:["Try Another ",(0,l.jsx)(L,{size:14})]})]}):(0,l.jsx)("button",{onClick:b,disabled:d||!x,className:"w-full bg-indigo-600 text-white py-3 rounded-xl font-medium hover:bg-indigo-700 disabled:opacity-50 flex items-center justify-center gap-2",children:d?(0,l.jsx)(A.Z,{className:"animate-spin"}):"Submit for Feedback"})]}):(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Topic to Practice"}),(0,l.jsx)("input",{type:"text",className:"w-full border border-slate-300 rounded-lg p-2.5 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"e.g. Photosynthesis, React Hooks...",value:a,onChange:e=>n(e.target.value)})]}),(0,l.jsx)("button",{onClick:f,disabled:d||!a,className:"w-full bg-slate-900 text-white py-3 rounded-xl font-medium hover:bg-slate-800 disabled:opacity-50 flex items-center justify-center gap-2",children:d?(0,l.jsx)(A.Z,{className:"animate-spin"}):"Generate Assignment"})]})]})};var P=()=>{let{sendMessage:e,loading:t}=j(),[s,a]=(0,o.useState)([]),[n,p]=(0,o.useState)(""),[b,y]=(0,o.useState)(!1),[w,v]=(0,o.useState)(null),[N,k]=(0,o.useState)(!1),[S,C]=(0,o.useState)(!1),[M,A]=(0,o.useState)(null),[Z,L]=(0,o.useState)(null),[P,q]=(0,o.useState)(null),[O,_]=(0,o.useState)(!1),[I,F]=(0,o.useState)(i.Core),[J,Q]=(0,o.useState)(r.Learning),[V,W]=(0,o.useState)(!1),H=(0,o.useRef)(null),B=(0,o.useRef)(null);(0,o.useEffect)(()=>{k(!0),a([{id:"welcome",role:"assistant",content:"Hello! I'm your StudyWithMe tutor. \uD83D\uDCDA\n\nI can help you in two ways:\n\n**1. Chat Mode** - Ask me anything and I'll explain at your chosen depth level\n\n**2. Syllabus Mode** - Type a subject name (like 'Data Structures' or 'Physics') and I'll create a complete learning path with topics, explanations, and practice questions!\n\nWhat would you like to learn today?",timestamp:Date.now()}])},[]),(0,o.useEffect)(()=>{var e;null===(e=H.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[s]);let G=e=>{let t=e.toLowerCase();return!(!(e.trim().split(/\s+/).length<=4)||e.includes("?")||e.includes("what")||e.includes("how")||e.includes("why"))||["learn","teach me","syllabus","course","subject","study","curriculum","topics in","about"].some(e=>t.includes(e))},R=async e=>{_(!0);let t={id:Date.now().toString(),role:"assistant",content:"\uD83D\uDD04 Creating your personalized learning path for **".concat(e,"**...\n\nThis includes:\n- \uD83D\uDCCB Structured topics\n- \uD83D\uDCD6 Detailed explanations\n- ❓ Practice questions\n- \uD83D\uDCCA Progress tracking"),timestamp:Date.now()};a(e=>[...e,t]);try{let t=await fetch("http://localhost:3000/api/syllabus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"subject_name",content:e,targetLevel:"undergraduate"})});if(!t.ok)throw Error("Failed to create syllabus");let s=await t.json();A(s.syllabus),L(s.syllabusId),C(!0);let n=s.syllabus.topics.slice(0,5).map((e,t)=>"".concat(t+1,". **").concat(e.name,"** - ").concat(e.description.slice(0,60),"...")).join("\n"),i={id:(Date.now()+1).toString(),role:"assistant",content:"✅ **Learning Path Created: ".concat(s.syllabus.subjectName,"**\n\n").concat(s.syllabus.description,"\n\n**\uD83D\uDCDA Topics (").concat(s.syllabus.totalTopics," total):**\n").concat(n,"\n").concat(s.syllabus.topics.length>5?"\n...and ".concat(s.syllabus.topics.length-5," more topics"):"","\n\n**⏱️ Estimated Duration:** ").concat(s.syllabus.estimatedDuration,'\n\n---\n\n**What would you like to do?**\n- Ask about any topic (e.g., "Explain arrays")\n- Say "quiz me" for practice questions\n- Say "start learning" to begin from Topic 1\n- Say "generate exam" for a mock test'),timestamp:Date.now()};a(e=>[...e,i])}catch(t){console.error(t);let e={id:Date.now().toString(),role:"assistant",content:"❌ Sorry, I couldn't create the syllabus. Please check if the backend is running and try again.",timestamp:Date.now()};a(t=>[...t,e])}finally{_(!1)}},U=async e=>{let t=e.toLowerCase();if(t.includes("quiz")||t.includes("practice")||t.includes("test me")){if(!M||!Z)return;_(!0);try{let e=M.topics[0],t=await fetch("http://localhost:3000/api/syllabus/questions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({syllabusId:Z,topicId:e.id,count:5,types:["mcq","short_answer"]})});if(!t.ok)throw Error("Failed to generate quiz");let s=(await t.json()).questions.slice(0,3).map((e,t)=>"**Q".concat(t+1,":** ").concat(e.question,"\n").concat(e.options?e.options.join("\n"):"")).join("\n\n"),n={id:Date.now().toString(),role:"assistant",content:"\uD83D\uDCDD **Quick Quiz: ".concat(e.name,"**\n\n").concat(s,'\n\n---\nType your answers or say "show answers" to see solutions!'),timestamp:Date.now()};a(e=>[...e,n])}catch(e){console.error(e)}finally{_(!1)}return!0}if(t.includes("start learning")||t.includes("begin")){if(!M)return;let e=M.topics[0],t={id:Date.now().toString(),role:"assistant",content:"\uD83D\uDCD6 **Topic 1: ".concat(e.name,"**\n\n").concat(e.description,"\n\n**Subtopics:**\n").concat(e.subtopics.map(e=>"• ".concat(e)).join("\n"),"\n\n**Difficulty:** ").concat(e.difficulty,"\n**Estimated Time:** ").concat(e.estimatedHours,' hours\n\n---\n\nAsk me anything about this topic, or say "next topic" to continue!'),timestamp:Date.now()};return a(e=>[...e,t]),!0}if(t.includes("generate exam")||t.includes("mock exam")){_(!0);try{let e=await fetch("http://localhost:3000/api/syllabus/exam",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({syllabusId:Z,duration:60,totalMarks:50,pattern:"university"})});if(!e.ok)throw Error("Failed to generate exam");let t=await e.json(),s={id:Date.now().toString(),role:"assistant",content:"\uD83D\uDCCB **Mock Exam Generated!**\n\n**Subject:** ".concat(t.exam.subjectName,"\n**Total Questions:** ").concat(t.exam.totalQuestions,"\n**Total Marks:** ").concat(t.exam.totalMarks,"\n**Duration:** ").concat(t.exam.duration," minutes\n\n---\n\nGo to the **Learn** page to take this exam with a timer and auto-grading!\n\n[Click here to start](/learn)"),timestamp:Date.now()};a(e=>[...e,s])}catch(e){console.error(e)}finally{_(!1)}return!0}return!1},X=async()=>{if(!n.trim()||b||O)return;let t={id:Date.now().toString(),role:"user",content:n,timestamp:Date.now(),metadata:{depth:I,mode:J}};a(e=>[...e,t]),p(""),y(!0),v(null);try{if(S&&M&&await U(n)){y(!1);return}if(G(n)&&!S){let e=n.replace(/^(learn|teach me|i want to learn|study|syllabus for|course on|about)\s*/i,"").trim();if(e.length>2){await R(e),y(!1);return}}let t=await e(n,I,J);if(t.error)throw Error(t.error);let s={id:(Date.now()+1).toString(),role:"assistant",content:t.text,timestamp:Date.now(),metadata:{depth:I,mode:J,isAssignment:J===r.Assignment}};a(e=>[...e,s])}catch(t){console.error(t);let e={id:Date.now().toString(),role:"system",content:"System Error: Unable to process request. Please check your network connection.",timestamp:Date.now()};a(t=>[...t,e])}finally{y(!1),setTimeout(()=>{var e;return null===(e=B.current)||void 0===e?void 0:e.focus()},100)}};return N?w?(0,l.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-red-100 max-w-md text-center",children:[(0,l.jsx)(c.Z,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,l.jsx)("h2",{className:"text-lg font-bold text-slate-800 mb-2",children:"Error"}),(0,l.jsx)("p",{className:"text-slate-600 mb-4",children:w})]})}):(0,l.jsxs)("div",{className:"flex h-screen overflow-hidden bg-slate-100 font-sans text-slate-900",children:[(0,l.jsxs)("aside",{className:"w-80 bg-white border-r border-slate-200 flex flex-col z-10 shadow-sm hidden md:flex",children:[(0,l.jsxs)("div",{className:"p-6 border-b border-slate-100",children:[(0,l.jsx)("h1",{className:"text-xl font-extrabold bg-gradient-to-r from-indigo-600 to-emerald-500 bg-clip-text text-transparent flex items-center gap-2",children:"StudyWithMe"}),(0,l.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Ethical Depth-Driven Learning"})]}),(0,l.jsxs)("div",{className:"p-6 flex-1 space-y-6 overflow-y-auto",children:[S&&M&&(0,l.jsxs)("section",{className:"bg-gradient-to-br from-emerald-50 to-blue-50 p-4 rounded-xl border border-emerald-200",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsx)(d.Z,{className:"w-5 h-5 text-emerald-600"}),(0,l.jsx)("h3",{className:"text-emerald-800 font-bold text-sm",children:"Active Course"})]}),(0,l.jsx)("p",{className:"text-sm font-medium text-slate-800",children:M.subjectName}),(0,l.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:[M.totalTopics," topics • ",M.estimatedDuration]}),(0,l.jsx)("button",{onClick:()=>{C(!1),A(null),L(null)},className:"mt-2 text-xs text-red-500 hover:text-red-700",children:"Clear Course"})]}),!S&&(0,l.jsxs)("section",{className:"bg-gradient-to-br from-purple-50 to-pink-50 p-4 rounded-xl border border-purple-200",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsx)(u.Z,{className:"w-5 h-5 text-purple-600"}),(0,l.jsx)("h3",{className:"text-purple-800 font-bold text-sm",children:"Quick Start"})]}),(0,l.jsx)("p",{className:"text-xs text-slate-600 mb-3",children:"Type any subject to create a learning path!"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:["Python","Calculus","Physics","History"].map(e=>(0,l.jsx)("button",{onClick:()=>{p(e),setTimeout(()=>X(),100)},className:"px-2 py-1 bg-white border border-purple-200 rounded-full text-xs text-purple-700 hover:bg-purple-100",children:e},e))})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3",children:"Task Mode"}),(0,l.jsx)(z,{currentMode:J,onChange:Q,disabled:b})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3",children:"Learning Depth"}),(0,l.jsx)(T,{currentDepth:I,onChange:F,disabled:b})]}),(0,l.jsxs)("section",{className:"bg-indigo-50 p-4 rounded-xl border border-indigo-100",children:[(0,l.jsx)("h3",{className:"text-indigo-800 font-bold text-sm mb-1",children:"Instructor Note"}),(0,l.jsxs)("p",{className:"text-xs text-indigo-600 leading-relaxed",children:[I===i.Core&&"Focusing on simple explanations and basics.",I===i.Applied&&"Connecting concepts to real-world scenarios.",I===i.Mastery&&"Analyzing complex edge cases and theory."]})]}),J===r.Learning&&(0,l.jsxs)("button",{onClick:()=>W(!0),className:"w-full py-3 border-2 border-dashed border-slate-300 rounded-xl text-slate-500 text-sm font-semibold hover:border-emerald-500 hover:text-emerald-600 transition-all flex items-center justify-center gap-2",children:[(0,l.jsx)(m.Z,{size:16})," Generate Practice"]})]}),(0,l.jsxs)("div",{className:"p-4 border-t border-slate-100 space-y-2",children:[(0,l.jsxs)("a",{href:"/learn",className:"w-full flex items-center justify-center gap-2 p-2 bg-emerald-50 hover:bg-emerald-100 text-emerald-700 rounded-lg text-sm font-medium transition-colors",children:[(0,l.jsx)(x.Z,{size:16})," Full Learning View"]}),(0,l.jsxs)("a",{href:"/dashboard",className:"w-full flex items-center justify-center gap-2 p-2 bg-slate-50 hover:bg-slate-100 text-slate-600 rounded-lg text-sm font-medium transition-colors",children:[(0,l.jsx)(h.Z,{size:16})," Open Dashboard"]})]})]}),(0,l.jsxs)("main",{className:"flex-1 flex flex-col relative",children:[(0,l.jsxs)("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6 md:hidden",children:[(0,l.jsx)("span",{className:"font-bold text-lg",children:"StudyWithMe"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("a",{href:"/dashboard",children:(0,l.jsx)(h.Z,{size:24,className:"text-slate-600"})}),(0,l.jsx)("button",{children:(0,l.jsx)(g,{size:24,className:"text-slate-600"})})]})]}),(0,l.jsx)("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 scrollbar-hide",children:(0,l.jsxs)("div",{className:"max-w-3xl mx-auto",children:[s.map(e=>(0,l.jsx)(D,{message:e},e.id)),b&&(0,l.jsx)("div",{className:"flex justify-start mb-6",children:(0,l.jsxs)("div",{className:"flex items-center gap-2 bg-white border border-slate-200 px-4 py-3 rounded-2xl rounded-tl-none",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,l.jsx)("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,l.jsx)("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})}),(0,l.jsx)("div",{ref:H})]})}),(0,l.jsxs)("div",{className:"p-4 bg-white border-t border-slate-200",children:[(0,l.jsxs)("div",{className:"max-w-3xl mx-auto relative",children:[(0,l.jsx)("input",{ref:B,type:"text",value:n,onChange:e=>p(e.target.value),onKeyDown:e=>"Enter"===e.key&&X(),placeholder:J===r.Assignment?"Ask for a hint or guidance...":"Ask a question...",disabled:b,className:"w-full bg-slate-100 text-slate-800 placeholder:text-slate-400 pl-5 pr-12 py-4 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all outline-none",autoFocus:!0}),(0,l.jsx)("button",{onClick:X,disabled:!n.trim()||b,className:"absolute right-2 top-2 p-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:hover:bg-indigo-600 transition-colors",children:(0,l.jsx)(f,{size:20})})]}),(0,l.jsx)("div",{className:"max-w-3xl mx-auto mt-2 text-center",children:(0,l.jsx)("p",{className:"text-[10px] text-slate-400",children:J===r.Assignment?"Assignment Mode: Direct answers are disabled to promote learning.":"StudyWithMe can make mistakes. Verify important information."})})]})]}),V&&(0,l.jsx)("div",{className:"absolute inset-y-0 right-0 z-20 shadow-2xl animate-in slide-in-from-right duration-300",children:(0,l.jsx)(E,{depth:I,onClose:()=>W(!1)})})]}):(0,l.jsx)("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-slate-500",children:"Loading..."})})}},7663:function(e){!function(){var t={229:function(e){var t,s,a,n=e.exports={};function i(){throw Error("setTimeout has not been defined")}function r(){throw Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(s){try{return t.call(null,e,0)}catch(s){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{s="function"==typeof clearTimeout?clearTimeout:r}catch(e){s=r}}();var o=[],c=!1,d=-1;function u(){c&&a&&(c=!1,a.length?o=a.concat(o):d=-1,o.length&&m())}function m(){if(!c){var e=l(u);c=!0;for(var t=o.length;t;){for(a=o,o=[];++d<t;)a&&a[d].run();d=-1,t=o.length}a=null,c=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===r||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function x(e,t){this.fun=e,this.array=t}function h(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];o.push(new x(e,t)),1!==o.length||c||l(m)},x.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=h,n.addListener=h,n.once=h,n.off=h,n.removeListener=h,n.removeAllListeners=h,n.emit=h,n.prependListener=h,n.prependOnceListener=h,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},s={};function a(e){var n=s[e];if(void 0!==n)return n.exports;var i=s[e]={exports:{}},r=!0;try{t[e](i,i.exports,a),r=!1}finally{r&&delete s[e]}return i.exports}a.ab="//";var n=a(229);e.exports=n}()}},function(e){e.O(0,[230,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);